<!DOCTYPE html>
<html>
<head>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title> Visual Summarization Lattice </title>

<!-- Stylesheets -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="resources/Treant.css">
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="form.css">

<!-- Dependencies -->
<script src="resources/d3.v3.min.js"></script>
<script src="resources/raphael.js"></script>
<script src="resources/Treant.js"></script>
<script src="resources/jquery.min.js"></script>
<script src="resources/jquery.easing.js"></script>

</head>

<body>
<div class="w3-sidebar w3-bar-block w3-card-2 w3-animate-left" style="display:none" id="mySidebar">
  <button class="w3-bar-item w3-button w3-large" style="margin: 10px 300px;"
  onclick="menuItem_close()"> &times;</button>

<form class="form-inline menu-item">
  <h2 class = "title"><b>Dataset</b></h2>
  <div class="form-group">
        <select name="table_selected" id = "all_tables" class="selectpicker form-control">
            <option selected="true" value = "None">None</option>
            {% for dataset in all_tables %}
                <option value= {{dataset}} >{{dataset}}</option>
â€‹            {% endfor %}
        </select>
  </div>
</form>
<br>
<form class="form-inline menu-item">
   <h2 class = "title"><b>X-Axis</b></h2>
  <div class="form-group">
         <select name = "xaxis_select" id = "xaxis" class="selectpicker form-control">
        </select>
    </div>
</form>
<br> 
<form class="form-inline menu-item">
    <h2 class = "title"><b>Y-Axis</b></h2>
    <div class="form-group">
        <select name = "yaxis_select"  id = "yaxis" class="selectpicker form-control">
            <option selected="true" value = "None"> None</option>
        </select>
    </div>
</form>
<br> 
<form class="form-inline menu-item" class="form-inline" id = "agg_select" name = "agg_select">
  <h2 class = "title"><b>Aggregation function:</b></h2>
    <div class="form-group">
        <select name = "AggFunc"  id = "AggFunc" class="selectpicker form-control">
            <option selected="true" value = "None"> None</option>
            <option value= "SUM">SUM</option>
            <option value= "AVERAGE">AVERAGE</option>
            <option value= "COUNT">COUNT</option>
        </select>
    </div>
  <br>
</form>
<br> 
<div class="container">
    <div class="row">
        <div class="control-group" id="fields">
            <div class="controls"> 
                <form role="form" class="menu-item" autocomplete="off" name = "filter_select">
                    <h2 class = "title"><b>Filters</b></h2>
                    <div class="entry input-group col-xs-3">
                        <input class="filter form-control" style = "left:2px" type="text" />
                        <span class="input-group-btn">
                            <button class="btn btn-success btn-add" type="button">
                                <span class="glyphicon glyphicon-plus"></span>
                            </button>
                        </span>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <input type="submit" id="filterSubmit" style = "background-color: #359EDA;border: none;color: white;padding: 10px 20px;text-align: center;text-decoration: none;display: inline-block;font-size: 15px;margin: 100px 100px;cursor: pointer;right:40;" value="Submit">
</div>



</div>


<div zclass="w3-main" id="main">

<div class="w3-teal">
  <div class="w3-container">
    <h1 style="color:white; font-size:26px;font-family:Arial"></h1>
  </div>
  <button class="w3-button w3-teal w3-xlarge" onclick="menuItem_open()">&#9776;</button>
</div>



    <div class="w3-container">


        <div id = "treeNode" style ="display: none" treeContent = {{treeTreant2}}>
                {{treeTreant2}}
        </div>

        <div id = "treeNode2" style ="display: none" treeContent = {{nodeDic}}>
                {{nodeDic}}

        </div>


        <script type="text/javascript" src="lattice.js"></script>    


        <div class = "chart" id = "tree_container" style="height:100%; width:100%;"></div>

        <div id = "chart_container">

        
        <div style="visibility: hidden; display:inline; width: 0%; height: 0px" id="chartid">
            
            <div id="chartid2" style="width: 0px; height: 0px">
            
            </div>

        </div>
        

        </div>
    </div>


 
<!-- Javascript files -->
<script type="text/javascript" src="sidebar.js"></script>
<script type="text/javascript" src="helper.js"></script>    
<script type="text/javascript" src="barchart.js"></script>
<script type="text/javascript" src="lattice.js"></script>  
<script>        
    var arrayDiv = new Array();
    test_chart_collapsable(arrayDiv,nodeDic)

    tree = new Treant(chart_config);
    // Destroy hidden objects
    // var element = document.getElementById("element-id");
    // element.parentNode.removeChild(element);
    /**var dummy = document.getElementById("treeNode")
    element.parentNode.removeChild(element)**/

    for(i = 1; i <= 3; i++) { // This number is also hard coded in, need to read dynamically
        var element = document.getElementById("chart"+i)
        element.parentNode.removeChild(element)
    }
    $("#w3s").attr("href", "https://www.w3schools.com/jquery");
    $("#w3s").attr("href", "https://www.w3schools.com/jquery");
</script>



</body>
</html>